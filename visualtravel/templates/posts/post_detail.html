{% extends "base.html" %}

{% block page_title %}
{{post.title}}
{% endblock page_title %}

{% block content %}

<script>
  function initMap() {
    // The location of Uluru
    const uluru = { lat: parseFloat('{{post.latitude}}'), lng: parseFloat('{{post.longitude}}') };
    // The map, centered at Uluru
    const map = new google.maps.Map(document.getElementById("map"), {
      zoom: 6,
      center: uluru,
    });
    // The marker, positioned at Uluru
    const marker = new google.maps.Marker({
      position: uluru,
      map: map,
    });
  }
  initMap();
</script>
<div class="flex align-center mx-auto justify-center w-2/5">
  <img src="{{post.get_photos}}" class="w-full" vspace="30" hspace="20" />
</div>
<div class="flex justify-center">
  <div id="map" class="w-2/5 h-96"></div>
  <div class="bg-gray-200 lg:w-5/12 md:w-1/2 xl:w-1/4 my-10 flex flex-col border p-6 border-gray-400">
    <span
      class="text-center lg:w-1/3 text-white rounded-3xl  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-red-300 ">Title</span>
    <div class="lg:w-3/3 rounded-sm  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-white">{{post.title}}</div>
    <br>
    <span
      class="text-center lg:w-1/3 text-white rounded-3xl  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-red-300 ">Author</span>
    <div class="lg:w-3/3 rounded-sm  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-white">{{post.writter}}
    </div><br>
    <span
      class="text-center lg:w-1/3 text-white rounded-3xl  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-red-300 ">Contents</span>
    <div class="lg:w-3/3 rounded-sm  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-white">{{post.contents}}
    </div><br>
    <span
      class="text-center lg:w-1/3 text-white rounded-3xl  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-red-300 ">Camera</span>
    <div class="lg:w-3/3 rounded-sm  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-white">{{post.camera}}</div>

    <br><br>
    <div>
      <div style="float:left; ">
        <a href="{% url 'posts:edit' post.pk %} ">
          <button
            class="text-black rounded-3xl  border-2 py-1 px-4 border-opacity-50 border-red-500 bg-white hover:bg-red-300 ">
            Edit Post
          </button>
        </a>
      </div>
      <div style="float:right; ">
        <a href="{% url 'posts:delete' post.pk %}">
          <button class="text-black  border-2 py-1 px-4 border-opacity-50 border-red-600 bg-red-200 hover:bg-red-400 ">
            Delete Post
          </button>
        </a>
      </div>
      <div style="float:right; ">
        {% if post.love %}
        <a href="{% url 'posts:delete-fav' post.pk %}">
          <button class="text-black  border-2 py-1 px-4 border-opacity-50 border-red-600 bg-red-200 hover:bg-red-400 ">
            Delete from favorite list
          </button>
        </a>
        {% else %}
        <a href="{% url 'posts:add-fav' post.pk %}">
          <button class="text-black  border-2 py-1 px-4 border-opacity-50 border-red-600 bg-red-200 hover:bg-red-400 ">
            Add to favorite list
          </button>
        </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>
<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZliH4l5UHcPVzOzhhJaYBwtpIRFo5IAY&callback=initMap&libraries=&v=weekly"
  async></script>
{% endblock %}